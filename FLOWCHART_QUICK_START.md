# 🚀 流程图模块快速启动指南

## ✅ 完成状态

流程图编辑模块已完全实现！所有核心功能都已就绪。

---

## 📦 第一步：安装依赖

由于添加了新的依赖包，需要先安装：

```bash
cd frontend
pnpm install
```

**新增依赖包：**
- `@vue-flow/core` - Vue Flow 核心库
- `@vue-flow/background` - 背景网格
- `@vue-flow/controls` - 控制按钮
- `@vue-flow/minimap` - 缩略图
- `dagre` - 自动布局算法
- `html2canvas` - 导出图片

---

## 🚀 第二步：启动服务

### 方式 1：使用启动脚本（推荐）
```bash
# 在项目根目录
./start.sh
```

### 方式 2：手动启动
```bash
# 终端 1 - 后端
cd backend
source venv/bin/activate
uvicorn app.main:app --reload --host 0.0.0.0 --port 8000

# 终端 2 - 前端
cd frontend
pnpm dev
```

---

## 🎨 第三步：测试流程图

### 1. 登录教师账号
- 访问：http://localhost:5173
- 账号：teacher@inspireed.com
- 密码：teacher123

### 2. 创建或打开教案
- 进入"我的教案"
- 创建新教案或打开现有教案

### 3. 添加流程图单元
- 点击左侧工具栏的 **"📊 流程图单元"**
- 流程图编辑器会出现

### 4. 开始创作
- 点击工具栏按钮添加节点：
  - 🟢 **开始** - 流程起点
  - 📦 **过程** - 处理步骤
  - 💎 **判断** - 条件分支
  - 🔴 **结束** - 流程终点

- 连接节点：
  - 从节点的连接点拖动到另一个节点
  
- 使用工具：
  - 🎯 **自动布局** - 智能排列节点
  - 📐 **布局方向** - 选择上下/左右等
  - 🌙 **切换主题** - 亮色/暗色
  - 📷 **导出** - 保存为图片
  
- 保存教案：
  - 点击顶部"保存"按钮

### 5. 学生端查看
- 登出教师账号
- 登录学生账号：student@inspireed.com / student123
- 查看教案，看到流程图（只读模式）

---

## 🎯 快速示例

创建一个简单的算法流程：

1. 添加"开始"节点
2. 添加"过程"节点，标记为"输入数据"
3. 添加"判断"节点，标记为"数据是否有效？"
4. 添加两个"过程"节点：
   - "处理数据"（是的分支）
   - "报错"（否的分支）
5. 添加"结束"节点
6. 连接所有节点
7. 点击"自动布局"美化

结果：
```
开始 → 输入数据 → 数据是否有效？
                    ├─ 是 → 处理数据 → 结束
                    └─ 否 → 报错 → 结束
```

---

## 📚 详细文档

查看完整功能说明：
- **使用指南**: `FLOWCHART_MODULE_GUIDE.md`
- **实施总结**: `FLOWCHART_IMPLEMENTATION_SUMMARY.md`

---

## 🎉 功能清单

- ✅ 4 种节点类型（开始、过程、判断、结束）
- ✅ 拖拽添加和移动节点
- ✅ 可视化连接节点
- ✅ 自动布局（4种方向）
- ✅ 亮色/暗色主题
- ✅ 缩放和平移画布
- ✅ 导出为 PNG 图片
- ✅ 教师编辑 / 学生查看模式
- ✅ 自动保存到教案

---

## 🐛 遇到问题？

### pnpm 存储位置错误
```bash
cd frontend
rm -rf node_modules pnpm-lock.yaml
pnpm install
```

### 依赖安装失败
尝试使用 npm：
```bash
npm install
```

### 流程图不显示
- 检查浏览器控制台是否有错误
- 确认依赖已正确安装
- 刷新页面重试

---

## 💡 提示

- 判断节点（菱形）支持多个输出分支
- 使用自动布局可以快速美化流程图
- 可以导出图片用于演示或文档
- 流程图会自动保存在教案中

---

**准备好了吗？开始创作你的第一个流程图吧！** 🎨

```bash
cd frontend && pnpm install
```

